---
layout: post
category : lessons
title:  "硬盘安装fedora20"
date: 2013-11-22 21:08:00 -0700
tags : [ linux , fedora ]
---
<p>这几天鼠标坏了，在亚马逊下单了一枚雷蛇的鼠标，没想到快递那么慢==。不得不用触摸板，悲剧也从这边开始了。</p>
<!-- more -->

<p>因为之前不懂，乱分区，有97g的空余空间没分区，新建分区提示主分区数不能超过4个。想着先把其他分区弄成扩展分区，把97g的空间用上，再变回扩展分区，再把原来的主分区恢复。这么做不知道可以不可以，但是也不至于很悲剧地把硬盘全部格式化了。就是触摸板太灵敏了，手指一抖，居然双击了，硬盘全部格式化了Σ(っ°Д °;)っ。虽然用diskgenius恢复了一部分数据，但是linux的那些恢复不了，不得不重装系统。</p>

<p>之前一直是fedora的死忠，其实想安装archlinux来着，但是咱的笔记本较奇葩，双显卡，到安装xorg那一步就没办法了╮(￣▽￣")╭，再来fedora可以google到的内容比较多，也跟咱的id--fewspider开头差不多，就爱屋及乌了。</p>

<p>咱是在win7下硬盘安装的，不复杂：</p>

<p>首先先去下载fedora的镜像文件，下载页面  <a href="http://fedoraproject.org/zh_CN/get-prerelease" target="_blank">猛戳这里</a>。选择安装DVD那个下载，32位（i386 还是64位（x86_64，自己选择，咱喜欢64（x86_64位啦。</p>

<p>需要用到的软件有：ext2fsd（读写EXT3分区,easybcd（双系统引导, Acronis Disk Director（分区软件</p>

<p>下载好的iso文件，可以用winrar打开，或者用虚拟光驱。将<code>isolinux</code>文件夹下的<code>initrd.img</code>和<code>vmlinuz</code>复制到c盘下。</p>

<p>用Acronis Disk Director新建一5g的<code>EXT3</code>分区，用ext2fsd实现读写，将下载好的iso文件拷贝到这个盘。</p>

<p>此外，你还需要一些空余的空间用来安装fedora20。</p>

<p>打开easybcd，添加引导项，选择NeoGrub,安装，配置，编辑menu.lst：</p>

<p>
<pre class="prettyprint linenums">
title Install Fedora 20

root (hd0,0)

kernel /vmlinuz repo=hd:/dev/sda9:/

initrd /initrd.img
</pre>
</p>

<p>第三行<code>repo=hd:/dev/sda9:/</code>里面的sda9，不一定就是这个数字，根据你刚才的那个5gEXT3分区做相应的调整。</p>

<p>举个例子，咱的电脑c盘为主分区，其他都为扩展分区，则

<pre class="prettyprint linenums">
c盘（hd0,1）>>>>>>> sda2
D盘（hd0,4）>>>>>>> sda5
E盘（hd0,5）>>>>>>> sda6
F盘（hd0,6）>>>>>>> sda7
G盘（hd0,7）>>>>>>> sda8
H盘（hd0,8）>>>>>>> sda9
</pre>
</p>

<p>重启进入NeoGrub引导项，就看到Install Fedora 20的引导，回车，不出意外的话，就进入安装界面了。</p>

<p>如果没进入安装界面，就说明<code>repo=hd:/dev/sda9:/</code>那边的数字，弄错了，重新折腾。</p>

<p>进入安装界面，会让你选择安装gnome，还是kde，还是别的桌面。个人觉得gnome挺垃圾的，特别是终端不能半透明，输入法换别的后，界面会变得很丑。相对而言，kde的diy性比较强点，喜欢个性化的可以选择kde。</p>

<p>最后晒下桌面（kde：</p>

<p>
<a class="fancybox" href="http://farm6.staticflickr.com/5518/10993881833_92c6d56532_o.png" title="桌面"><img src="http://farm6.staticflickr.com/5518/10993881833_b84eb1ec81_z.jpg" /></a>
</p>