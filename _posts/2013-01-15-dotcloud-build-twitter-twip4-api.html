---
date: 2013-01-15 08:21:37+00:00
layout: post
title: dotcloud搭建twitter twip4 api
category : lessons
tags : [api,dotcloud,twip4,twitter]
---

<p>搭建twip4 api没什么难度，主要是免费空间难找，当然图方便的也可以自己买个国外php虚拟空间，一年50大洋以内的空间很多，也可以找人合租。
dotcloud是PaaS(Platform as a Service)的云计算平台，类似的还有<!-- more -->GAE、Heroku、国内的SAE。dotcloud支持几乎所有主流服务，php、java、python、ruby、mysql、postsql、node.js、Hadoop等等。详细参见：[http://docs.dotcloud.com/firststeps/platform-overview/](http://docs.dotcloud.com/firststeps/platform-overview/)
最重要的一点是dotcloud的访问速度还是很快的，也支持https，相对比较安全一些。</p>

<p>需要linux的环境，才可以配置dotcloud，windows用户可以安装虚拟机。
先注册 [https://www.dotcloud.com/](https://www.dotcloud.com/)
下载twip4源码 [https://github.com/yegle/twip/](https://github.com/yegle/twip/)</p>

<p>小编的linux操作系统是ubuntu，默认是有安装python，终端输入以下</p>

<p><pre class="prettyprint linenums">
python -V
</pre></p>

<p>没有显示版本号，请先安装python</p>

<p><pre class="prettyprint linenums">
sudo apt-get install python
</pre></p>

<p>安装dotcloud客户端</p>

<p><pre class="prettyprint linenums">
sudo apt-get install python-pip
sudo pip install dotcloud
</pre></p>

<p>登陆dotcloud</p>

<p><pre class="prettyprint linenums">
dotcloud setup
</pre></p>

<p>新建个文件夹，待会把twip4源码解压到这个目录</p>

<p><pre class="prettyprint linenums">
mkdir test
cd test
</pre></p>

<p>创建个应用，与刚才的文件夹同名
<pre class="prettyprint linenums">
dotcloud create test
</pre></p>

<p>twip4源码解压后，config-example.php改名为config.php，key、secret根据twitter应用中心申请的填写，
basic-url格式为https://test-usename.dotcloud.com/,test为上一步创建的应用名，/别忘记了，usename为你的dotcloud用户名。</p>

<p>在test文件夹新建文件nginx.conf</p>

<p><pre class="prettyprint linenums">
if (!-e $request_filename){rewrite ^/(.*)$ /index.php last;}
</pre></p>

<p>再新建文件dotcloud.yml</p>

<p><pre class="prettyprint linenums">
www:
  type: php
</pre></p>

<p>上传twip4</p>

<p><pre class="prettyprint linenums">
dotcloud push
</pre></p>

<p>访问[https://test-usename.dotcloud.com/index.html](https://test-usename.dotcloud.com/index.html)，有看到twip4的界面，就搞定了。</p>
